<!DOCTYPE html>
<html>
<head>
  <title>Gamiq Admin</title>
  <style>
    body {
      margin: 0;
      font-family: Arial;
      background: linear-gradient(120deg,#7c3aed,#ec4899,#22d3ee);
      color: white;
    }

    .nav {
      padding: 15px 25px;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .box {
      max-width: 800px;
      margin: 40px auto;
      background: rgba(0,0,0,0.6);
      padding: 25px;
      border-radius: 20px;
    }

    .game {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 15px;
      margin-bottom: 15px;
    }

    button {
      padding: 8px 14px;
      border: none;
      border-radius: 10px;
      margin-right: 10px;
      cursor: pointer;
    }

    .approve {
      background: #22c55e;
      color: white;
    }

    .reject {
      background: #ef4444;
      color: white;
    }
  </style>
</head>
<body>

<div class="nav">
  <div>üõ†Ô∏è Gamiq Admin</div>
  <button onclick="logout()">Log out</button>
</div>

<div class="box">
  <h2>Pending Games</h2>
  <div id="list"></div>
</div>

<script>
const currentUser = localStorage.getItem("currentUser");
if (currentUser !== "admin") location.href = "index.html";

const games = JSON.parse(localStorage.getItem("games") || "{}");
const list = document.getElementById("list");

function render() {
  list.innerHTML = "";

  let hasAny = false;

  for (const id in games) {
    if (games[id].status === "pending") {
      hasAny = true;

      const div = document.createElement("div");
      div.className = "game";
      div.innerHTML = `
        <strong>${games[id].name}</strong><br>
        Creator: ${games[id].creator}<br><br>
        <button class="approve" onclick="approve('${id}')">Approve</button>
        <button class="reject" onclick="reject('${id}')">Reject</button>
      `;
      list.appendChild(div);
    }
  }

  if (!hasAny) {
    list.innerHTML = "<p>No pending games üéâ</p>";
  }
}

function approve(id) {
  games[id].status = "approved";
  localStorage.setItem("games", JSON.stringify(games));
  render();
}

function reject(id) {
  delete games[id];
  localStorage.setItem("games", JSON.stringify(games));
  render();
}

function logout() {
  localStorage.removeItem("currentUser");
  location.href = "index.html";
}

render();
</script>

</body>
</html>

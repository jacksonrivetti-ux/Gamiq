<!DOCTYPE html>
<html>
<head>
  <title>Gamiq Admin</title>
  <style>
    body {
      margin: 0;
      font-family: Arial;
      background: linear-gradient(120deg,#7c3aed,#ec4899,#22d3ee);
      color: white;
    }

    .nav {
      padding: 15px 25px;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .box {
      max-width: 900px;
      margin: 30px auto;
      background: rgba(0,0,0,0.6);
      padding: 25px;
      border-radius: 20px;
    }

    .item {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 15px;
      margin-bottom: 15px;
    }

    button {
      margin-top: 8px;
      padding: 6px 12px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #ef4444;
      color: white;
    }
  </style>
</head>
<body>

<div class="nav">
  <div>üõ†Ô∏è Admin Panel</div>
  <button onclick="logout()">Log Out</button>
</div>

<div class="box">
  <h2>Players</h2>
  <div id="users"></div>
</div>

<script>
if (localStorage.getItem("currentUser") !== "admin") {
  location.href = "index.html";
}

const users = JSON.parse(localStorage.getItem("users") || "{}");
const games = JSON.parse(localStorage.getItem("games") || "{}");
const usersDiv = document.getElementById("users");

for (const u in users) {
  const div = document.createElement("div");
  div.className = "item";
  div.innerHTML = `
    <b>${u}</b><br>
    Age: ${users[u].age}<br>
    <button onclick="ban('${u}')">Ban Player</button>
  `;
  usersDiv.appendChild(div);
}

function ban(username) {
  if (!confirm("Ban " + username + "?")) return;

  // Remove games
  for (const id in games) {
    if (games[id].creator === username) delete games[id];
  }

  delete users[username];

  if (localStorage.getItem("currentUser") === username) {
    localStorage.removeItem("currentUser");
  }

  localStorage.setItem("users", JSON.stringify(users));
  localStorage.setItem("games", JSON.stringify(games));
  location.reload();
}

function logout() {
  localStorage.removeItem("currentUser");
  location.href = "index.html";
}
</script>

</body>
</html>

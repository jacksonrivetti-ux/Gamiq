<!DOCTYPE html>
<html>
<head>
  <title>Gamiq Login</title>
  <style>
    body {
      margin: 0;
      font-family: Arial;
      background: linear-gradient(120deg,#4f46e5,#9333ea,#06b6d4);
      color: white;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .box {
      background: rgba(0,0,0,0.6);
      padding: 30px;
      border-radius: 20px;
      width: 320px;
      text-align: center;
    }

    .logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: white;
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      color: black;
    }

    input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 10px;
      border: none;
      font-size: 16px;
    }

    button {
      margin-top: 15px;
      width: 100%;
      background: #22c55e;
      border: none;
      padding: 12px;
      font-size: 16px;
      color: white;
      border-radius: 12px;
      cursor: pointer;
    }

    .link {
      margin-top: 12px;
      cursor: pointer;
      color: #93c5fd;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<div class="box">
  <div class="logo">ðŸŽ®</div>

  <!-- LOGIN -->
  <div id="login">
    <h2>Sign In</h2>
    <input id="luser" placeholder="Username">
    <input id="lpass" type="password" placeholder="Password">
    <button onclick="login()">Sign In</button>
    <div class="link" onclick="showSignup()">Create an account</div>
  </div>

  <!-- SIGN UP -->
  <div id="signup" class="hidden">
    <h2>Create Account</h2>
    <input id="suser" placeholder="Username">
    <input id="spass" type="password" placeholder="Password">
    <input id="sage" type="number" placeholder="Age">
    <button onclick="signup()">Create Account</button>
    <div class="link" onclick="showLogin()">Back to sign in</div>
  </div>
</div>

<script>
const users = JSON.parse(localStorage.getItem("users") || "{}");

function showSignup() {
  login.style.display = "none";
  signup.style.display = "block";
}

function showLogin() {
  signup.style.display = "none";
  login.style.display = "block";
}

function signup() {
  const u = suser.value.trim();
  const p = spass.value;
  const a = sage.value;

  if (!u || !p || !a) {
    alert("Fill everything out");
    return;
  }

  if (users[u]) {
    alert("Username already exists");
    return;
  }

  users[u] = {
    password: p,
    age: a
  };

  localStorage.setItem("users", JSON.stringify(users));
  alert("Account created!");
  showLogin();
}

function login() {
  const u = luser.value.trim();
  const p = lpass.value;

  if (u === "admin" && p === "admin1234") {
    localStorage.setItem("currentUser", "admin");
    location.href = "admin.html";
    return;
  }

  if (!users[u] || users[u].password !== p) {
    alert("Wrong login");
    return;
  }

  localStorage.setItem("currentUser", u);
  location.href = "home.html";
}
</script>

</body>
</html>
